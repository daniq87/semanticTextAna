

{% block body %}

    <div class="main container">
        <div class="row well">
            <div class="col-md-6">
                <div class="page-header">
                    <h2>{{ title }}</h2>
                </div>
                {{ form_start(form, {'attr': {'novalidate': 'novalidate', 'role' : 'form'}}) }}
                <h4 class="text-danger">{{ form_errors(form) }}</h4>

                <fieldset>
                    <div class="form-group">
                        {{ form_label(form.name) }}
                        {{ form_widget(form.name, {'attr': {'class': 'form-control', 'placeholder' : 'Criteria name'}}) }}
                        <span class="text-danger">{{ form_errors(form.name) }}</span>
                    </div>                                       

                </fieldset>

                <p>
                    {{ form_widget(form.save, {'label' : actionButton, 'attr': {'class': 'btn btn-success'}}) }}
                </p>

                {{ form_end(form) }}
            </div>
        </div>
    </div>
{% endblock %}



{% block javascripts  %}
{#    {{ parent() }}#}
{#    <script>
        $(document).ready(function () {

            var $topic = $('#criteria_topic');
            
            // When topic gets selected ...
            $topic.change(function () {

                var $form = $(this).closest('form');

                // Simulate form data, but only include the selected topic value.
                var data = {};
                data[$topic.attr('name')] = $topic.val();

                // Submit data via AJAX to the form's action path.
                $.ajax({
                    url: $form.attr('action'),
                    type: $form.attr('method'),
                    data: data,
                    success: function (html) {
                        
                        // Replace current position field ...
                         $('#criteria_attribute').replaceWith(
                           // ... with the returned one from the AJAX response.
                           $(html).find('#criteria_attribute')
                         );
                         // Position field now displays the appropriate positions.                        

                    }
                }).fail(function () {
                    alert("ERROR");
                });
            });
        });

    </script>#}
{% endblock %}